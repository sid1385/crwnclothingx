{"ast":null,"code":"import { takeEvery, call, put, take, takeLatest, delay, all } from \"redux-saga/effects\";\nimport { auth, provider, createUserProfileDocument } from \"../../FireBase/firebase.config\";\nimport { googleSignInCompleted, googleSignInError, emailSignInCompleted, emailSignInError } from \"./user-actions\";\n\nfunction* GoogleSignInStart() {\n  yield takeLatest(\"GOOGLE_SIGNIN_START\", googleSignInFirebaseAsync);\n}\n\n_c = GoogleSignInStart;\n\nfunction* emailSignInFirebaseAsync({\n  payload: {\n    email,\n    password\n  }\n}) {\n  console.log(email, password);\n\n  try {\n    const {\n      user\n    } = yield auth.signInWithEmailAndPassword(email, password);\n    const userref = yield call(createUserProfileDocument, user);\n    const snapshot = yield userref.get();\n    console.log({ ...snapshot.data()\n    });\n    yield put(emailSignInCompleted({\n      id: snapshot.id,\n      ...snapshot.data()\n    }));\n  } catch (error) {\n    yield put(emailSignInError(error));\n  }\n}\n\nexport function* EmailSignInstart() {\n  yield takeLatest(\"EMAIL_SIGNIN_START\", emailSignInFirebaseAsync);\n}\n_c2 = EmailSignInstart;\n\nfunction* googleSignInFirebaseAsync() {\n  try {\n    const {\n      user\n    } = yield auth.signInWithPopup(provider);\n    const userref = yield call(createUserProfileDocument, user); //console.log(userref);\n\n    const snapshot = yield userref.get();\n    console.log({ ...snapshot.data()\n    });\n    yield put(googleSignInCompleted({\n      id: snapshot.id,\n      ...snapshot.data()\n    }));\n    console.log(snapshot.id);\n  } catch (error) {\n    yield put(googleSignInError(error));\n  }\n}\n\nexport function* userRootSaga() {\n  yield all([call(GoogleSignInStart), call(EmailSignInstart)]);\n}\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GoogleSignInStart\");\n$RefreshReg$(_c2, \"EmailSignInstart\");","map":{"version":3,"sources":["/home/siddhesh/React/crwn-clothing/crwn-clothing/src/redux/user/user-saga.js"],"names":["takeEvery","call","put","take","takeLatest","delay","all","auth","provider","createUserProfileDocument","googleSignInCompleted","googleSignInError","emailSignInCompleted","emailSignInError","GoogleSignInStart","googleSignInFirebaseAsync","emailSignInFirebaseAsync","payload","email","password","console","log","user","signInWithEmailAndPassword","userref","snapshot","get","data","id","error","EmailSignInstart","signInWithPopup","userRootSaga"],"mappings":"AAAA,SACEA,SADF,EAEEC,IAFF,EAGEC,GAHF,EAIEC,IAJF,EAKEC,UALF,EAMEC,KANF,EAOEC,GAPF,QAQO,oBARP;AAUA,SACEC,IADF,EAEEC,QAFF,EAGEC,yBAHF,QAIO,gCAJP;AAMA,SACEC,qBADF,EAEEC,iBAFF,EAGEC,oBAHF,EAIEC,gBAJF,QAKO,gBALP;;AAOA,UAAUC,iBAAV,GAA8B;AAC5B,QAAMV,UAAU,CAAC,qBAAD,EAAwBW,yBAAxB,CAAhB;AACD;;KAFSD,iB;;AAGV,UAAUE,wBAAV,CAAmC;AAAEC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT;AAAX,CAAnC,EAAqE;AACnEC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ,EAAmBC,QAAnB;;AACA,MAAI;AACF,UAAM;AAAEG,MAAAA;AAAF,QAAW,MAAMf,IAAI,CAACgB,0BAAL,CAAgCL,KAAhC,EAAuCC,QAAvC,CAAvB;AACA,UAAMK,OAAO,GAAG,MAAMvB,IAAI,CAACQ,yBAAD,EAA4Ba,IAA5B,CAA1B;AACA,UAAMG,QAAQ,GAAG,MAAMD,OAAO,CAACE,GAAR,EAAvB;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAY,EACV,GAAGI,QAAQ,CAACE,IAAT;AADO,KAAZ;AAGA,UAAMzB,GAAG,CACPU,oBAAoB,CAAC;AACnBgB,MAAAA,EAAE,EAAEH,QAAQ,CAACG,EADM;AAEnB,SAAGH,QAAQ,CAACE,IAAT;AAFgB,KAAD,CADb,CAAT;AAMD,GAbD,CAaE,OAAOE,KAAP,EAAc;AACd,UAAM3B,GAAG,CAACW,gBAAgB,CAACgB,KAAD,CAAjB,CAAT;AACD;AACF;;AAED,OAAO,UAAUC,gBAAV,GAA6B;AAClC,QAAM1B,UAAU,CAAC,oBAAD,EAAuBY,wBAAvB,CAAhB;AACD;MAFgBc,gB;;AAIjB,UAAUf,yBAAV,GAAsC;AACpC,MAAI;AACF,UAAM;AAAEO,MAAAA;AAAF,QAAW,MAAMf,IAAI,CAACwB,eAAL,CAAqBvB,QAArB,CAAvB;AAEA,UAAMgB,OAAO,GAAG,MAAMvB,IAAI,CAACQ,yBAAD,EAA4Ba,IAA5B,CAA1B,CAHE,CAIF;;AACA,UAAMG,QAAQ,GAAG,MAAMD,OAAO,CAACE,GAAR,EAAvB;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAY,EACV,GAAGI,QAAQ,CAACE,IAAT;AADO,KAAZ;AAGA,UAAMzB,GAAG,CACPQ,qBAAqB,CAAC;AACpBkB,MAAAA,EAAE,EAAEH,QAAQ,CAACG,EADO;AAEpB,SAAGH,QAAQ,CAACE,IAAT;AAFiB,KAAD,CADd,CAAT;AAMAP,IAAAA,OAAO,CAACC,GAAR,CAAYI,QAAQ,CAACG,EAArB;AACD,GAhBD,CAgBE,OAAOC,KAAP,EAAc;AACd,UAAM3B,GAAG,CAACS,iBAAiB,CAACkB,KAAD,CAAlB,CAAT;AACD;AACF;;AAED,OAAO,UAAUG,YAAV,GAAyB;AAC9B,QAAM1B,GAAG,CAAC,CAACL,IAAI,CAACa,iBAAD,CAAL,EAA0Bb,IAAI,CAAC6B,gBAAD,CAA9B,CAAD,CAAT;AACD","sourcesContent":["import {\n  takeEvery,\n  call,\n  put,\n  take,\n  takeLatest,\n  delay,\n  all,\n} from \"redux-saga/effects\";\n\nimport {\n  auth,\n  provider,\n  createUserProfileDocument,\n} from \"../../FireBase/firebase.config\";\n\nimport {\n  googleSignInCompleted,\n  googleSignInError,\n  emailSignInCompleted,\n  emailSignInError,\n} from \"./user-actions\";\n\nfunction* GoogleSignInStart() {\n  yield takeLatest(\"GOOGLE_SIGNIN_START\", googleSignInFirebaseAsync);\n}\nfunction* emailSignInFirebaseAsync({ payload: { email, password } }) {\n  console.log(email, password);\n  try {\n    const { user } = yield auth.signInWithEmailAndPassword(email, password);\n    const userref = yield call(createUserProfileDocument, user);\n    const snapshot = yield userref.get();\n    console.log({\n      ...snapshot.data(),\n    });\n    yield put(\n      emailSignInCompleted({\n        id: snapshot.id,\n        ...snapshot.data(),\n      })\n    );\n  } catch (error) {\n    yield put(emailSignInError(error));\n  }\n}\n\nexport function* EmailSignInstart() {\n  yield takeLatest(\"EMAIL_SIGNIN_START\", emailSignInFirebaseAsync);\n}\n\nfunction* googleSignInFirebaseAsync() {\n  try {\n    const { user } = yield auth.signInWithPopup(provider);\n\n    const userref = yield call(createUserProfileDocument, user);\n    //console.log(userref);\n    const snapshot = yield userref.get();\n    console.log({\n      ...snapshot.data(),\n    });\n    yield put(\n      googleSignInCompleted({\n        id: snapshot.id,\n        ...snapshot.data(),\n      })\n    );\n    console.log(snapshot.id);\n  } catch (error) {\n    yield put(googleSignInError(error));\n  }\n}\n\nexport function* userRootSaga() {\n  yield all([call(GoogleSignInStart), call(EmailSignInstart)]);\n}\n"]},"metadata":{},"sourceType":"module"}