{"ast":null,"code":"import { takeEvery, call, put, take, takeLatest, delay, all } from \"redux-saga/effects\";\nimport { auth, provider, createUserProfileDocument } from \"../../FireBase/firebase.config\";\nimport { googleSignInCompleted, googleSignInError } from \"./user-actions\";\n\nfunction* GoogleSignInStart() {\n  yield takeLatest(\"GOOGLE_SIGNIN_START\", googleSignInFirebaseAsync);\n}\n\n_c = GoogleSignInStart;\n\nfunction* emailSignInFirebaseAsync({\n  payload: {\n    email,\n    password\n  }\n}) {\n  try {\n    const userRef = auth.signInWithEmailAndPassword(email, password);\n    console.log(userref);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport function* EmailSignInstart() {\n  yield takeLatest(\"EMAIL_SIGNIN_START\", emailSignInFirebaseAsync);\n}\n_c2 = EmailSignInstart;\n\nfunction* googleSignInFirebaseAsync() {\n  try {\n    const {\n      user\n    } = yield auth.signInWithPopup(provider);\n    const userref = yield call(createUserProfileDocument, user); //console.log(userref);\n\n    const snapshot = yield userref.get();\n    console.log({ ...snapshot.data()\n    });\n    yield put(googleSignInCompleted({\n      id: snapshot.id,\n      ...snapshot.data()\n    }));\n    console.log(snapshot.id);\n  } catch (error) {\n    yield put(googleSignInError(error));\n  }\n}\n\nexport function* userRootSaga() {\n  yield all([call(GoogleSignInStart)]);\n}\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GoogleSignInStart\");\n$RefreshReg$(_c2, \"EmailSignInstart\");","map":{"version":3,"sources":["/home/siddhesh/React/crwn-clothing/crwn-clothing/src/redux/user/user-saga.js"],"names":["takeEvery","call","put","take","takeLatest","delay","all","auth","provider","createUserProfileDocument","googleSignInCompleted","googleSignInError","GoogleSignInStart","googleSignInFirebaseAsync","emailSignInFirebaseAsync","payload","email","password","userRef","signInWithEmailAndPassword","console","log","userref","error","message","EmailSignInstart","user","signInWithPopup","snapshot","get","data","id","userRootSaga"],"mappings":"AAAA,SACEA,SADF,EAEEC,IAFF,EAGEC,GAHF,EAIEC,IAJF,EAKEC,UALF,EAMEC,KANF,EAOEC,GAPF,QAQO,oBARP;AAUA,SACEC,IADF,EAEEC,QAFF,EAGEC,yBAHF,QAIO,gCAJP;AAMA,SAASC,qBAAT,EAAgCC,iBAAhC,QAAyD,gBAAzD;;AAEA,UAAUC,iBAAV,GAA8B;AAC5B,QAAMR,UAAU,CAAC,qBAAD,EAAwBS,yBAAxB,CAAhB;AACD;;KAFSD,iB;;AAGV,UAAUE,wBAAV,CAAmC;AAAEC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT;AAAX,CAAnC,EAAqE;AACnE,MAAI;AACF,UAAMC,OAAO,GAAGX,IAAI,CAACY,0BAAL,CAAgCH,KAAhC,EAAuCC,QAAvC,CAAhB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYC,OAAZ;AACD,GAHD,CAGE,OAAOC,KAAP,EAAc;AACdH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACC,OAAlB;AACD;AACF;;AAED,OAAO,UAAUC,gBAAV,GAA6B;AAClC,QAAMrB,UAAU,CAAC,oBAAD,EAAuBU,wBAAvB,CAAhB;AACD;MAFgBW,gB;;AAIjB,UAAUZ,yBAAV,GAAsC;AACpC,MAAI;AACF,UAAM;AAAEa,MAAAA;AAAF,QAAW,MAAMnB,IAAI,CAACoB,eAAL,CAAqBnB,QAArB,CAAvB;AAEA,UAAMc,OAAO,GAAG,MAAMrB,IAAI,CAACQ,yBAAD,EAA4BiB,IAA5B,CAA1B,CAHE,CAIF;;AACA,UAAME,QAAQ,GAAG,MAAMN,OAAO,CAACO,GAAR,EAAvB;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAY,EACV,GAAGO,QAAQ,CAACE,IAAT;AADO,KAAZ;AAGA,UAAM5B,GAAG,CACPQ,qBAAqB,CAAC;AACpBqB,MAAAA,EAAE,EAAEH,QAAQ,CAACG,EADO;AAEpB,SAAGH,QAAQ,CAACE,IAAT;AAFiB,KAAD,CADd,CAAT;AAMAV,IAAAA,OAAO,CAACC,GAAR,CAAYO,QAAQ,CAACG,EAArB;AACD,GAhBD,CAgBE,OAAOR,KAAP,EAAc;AACd,UAAMrB,GAAG,CAACS,iBAAiB,CAACY,KAAD,CAAlB,CAAT;AACD;AACF;;AAED,OAAO,UAAUS,YAAV,GAAyB;AAC9B,QAAM1B,GAAG,CAAC,CAACL,IAAI,CAACW,iBAAD,CAAL,CAAD,CAAT;AACD","sourcesContent":["import {\n  takeEvery,\n  call,\n  put,\n  take,\n  takeLatest,\n  delay,\n  all,\n} from \"redux-saga/effects\";\n\nimport {\n  auth,\n  provider,\n  createUserProfileDocument,\n} from \"../../FireBase/firebase.config\";\n\nimport { googleSignInCompleted, googleSignInError } from \"./user-actions\";\n\nfunction* GoogleSignInStart() {\n  yield takeLatest(\"GOOGLE_SIGNIN_START\", googleSignInFirebaseAsync);\n}\nfunction* emailSignInFirebaseAsync({ payload: { email, password } }) {\n  try {\n    const userRef = auth.signInWithEmailAndPassword(email, password);\n    console.log(userref);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport function* EmailSignInstart() {\n  yield takeLatest(\"EMAIL_SIGNIN_START\", emailSignInFirebaseAsync);\n}\n\nfunction* googleSignInFirebaseAsync() {\n  try {\n    const { user } = yield auth.signInWithPopup(provider);\n\n    const userref = yield call(createUserProfileDocument, user);\n    //console.log(userref);\n    const snapshot = yield userref.get();\n    console.log({\n      ...snapshot.data(),\n    });\n    yield put(\n      googleSignInCompleted({\n        id: snapshot.id,\n        ...snapshot.data(),\n      })\n    );\n    console.log(snapshot.id);\n  } catch (error) {\n    yield put(googleSignInError(error));\n  }\n}\n\nexport function* userRootSaga() {\n  yield all([call(GoogleSignInStart)]);\n}\n"]},"metadata":{},"sourceType":"module"}